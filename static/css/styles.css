@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
    --primary-color: #4f46e5;
    --primary-hover: #4338ca;
    --background-color: #f3f4f6;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --sidebar-bg: #111827;
    --surface-color: #ffffff;
    --text-color: #1f2937;
    --text-muted: #6b7280;
    --border-color: #e5e7eb;
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* --- Global Reset --- */
*, *::before, *::after {
    box-sizing: border-box;
}
body {
    font-family: var(--font-family);
    background-color: var(--background-color);
    color: var(--text-color);
    margin: 0;
    height: 100vh;
    overflow: hidden;
}

/* --- App Layout --- */
.app-layout {
    display: grid;
    grid-template-columns: 260px 1fr;
    height: 100vh;
}
.sidebar {
    grid-column: 1 / 2;
    background-color: var(--sidebar-bg);
    padding: 24px;
    display: flex;
    flex-direction: column;
}
.app-content-wrapper {
    grid-column: 2 / 3;
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow-y: hidden;
}
.app-header {
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: saturate(180%) blur(10px);
    border-bottom: 1px solid var(--border-color);
    padding: 20px 40px;
    position: sticky;
    top: 0;
    z-index: 10;
}
.app-header h1 { font-size: 1.5rem; font-weight: 600; margin: 0; }
.main-content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 40px;
}
.content-wrapper {
    max-width: 1200px;
    margin: 0 auto;
}

/* --- Sidebar Navigation --- */
.sidebar-header { font-size: 1.5rem; font-weight: 700; color: #ffffff; margin-bottom: 40px; padding-left: 12px; }
.sidebar-nav a { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 8px; color: #9ca3af; text-decoration: none; font-weight: 600; margin-bottom: 8px; transition: all 0.2s ease; }
.sidebar-nav a:hover { background-color: #1f2937; color: #ffffff; }
.sidebar-nav a.active { background-color: var(--primary-color); color: #ffffff; }
.sidebar-nav a.active svg { stroke: #ffffff; }

/* --- General Components --- */
.card { background: var(--surface-color); border: 1px solid var(--border-color); border-radius: 12px; padding: 32px; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -2px rgba(0,0,0,0.05); }
.card-header { font-size: 1.25rem; font-weight: 600; margin: 0 0 24px 0; padding-bottom: 16px; border-bottom: 1px solid var(--border-color); }
.btn { background-color: var(--primary-color); color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; transition: all 0.2s ease-in-out; }
.btn:hover { background-color: var(--primary-hover); box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2); }
.btn-secondary { background-color: #ffffff; color: var(--text-muted); border: 1px solid var(--border-color); font-weight: 600; }
.btn-secondary:hover { background-color: #f9fafb; color: var(--text-color); }

/* --- Upload Page (CORRECTED) --- */
.upload-grid {
    display: grid;
    grid-template-columns: 2fr 1fr; /* Explicit two-column layout */
    gap: 30px;
    align-items: start; /* Align items to the top of the grid cell */
}
.file-upload-wrapper { position: relative; width: 100%; border: 2px dashed var(--border-color); border-radius: 8px; padding: 40px; transition: border-color 0.2s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 200px; background-color: #f9fafb; }
.file-upload-wrapper:hover { border-color: var(--primary-color); }
.file-upload-wrapper input[type="file"] { opacity: 0; position: absolute; top: 0; left: 0; right: 0; bottom: 0; width: 100%; cursor: pointer; }
.file-upload-label { font-weight: 600; color: var(--primary-color); }
.file-upload-hint { color: var(--text-muted); margin-top: 8px; }
#fileName { font-weight: 600; color: var(--text-color); margin-top: 16px; }
.info-card h4 { font-weight: 600; margin-bottom: 12px; }
.info-card p, .info-card li { color: var(--text-muted); font-size: 0.95rem; }
.info-card ul { padding-left: 20px; }

/* --- Tables & Tags --- */
.results-table { width: 100%; border-collapse: collapse; }
.results-table th, .results-table td { padding: 14px 16px; border-bottom: 1px solid var(--border-color); text-align: left; vertical-align: middle; }
.results-table thead { background-color: #f9fafb; }
.results-table tbody tr:nth-child(even) { background-color: #f9fafb; }
.results-table tbody tr:hover { background-color: #f3f4f6; }
.tag { display: inline-block; padding: 4px 12px; border-radius: 999px; font-weight: 600; font-size: 0.8rem; text-transform: capitalize; }
.tag-planet, .tag-completed { background-color: #d1fae5; color: #065f46; }
.tag-false-positive, .tag-failed { background-color: #fee2e2; color: #991b1b; }
.tag-high, .tag-processing { background-color: #dbeafe; color: #1e40af; }
.tag-medium { background-color: #fef3c7; color: #92400e; }
.tag-low { background-color: #e5e7eb; color: #374151; }

/* --- Stats & Filters --- */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
.stat-card { background-color: #ffffff; border: 1px solid var(--border-color); border-radius: 8px; padding: 24px; display: flex; flex-direction: column; }
.stat-card-header { display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--text-muted); }
.stat-card-value { font-size: 2.25rem; font-weight: 700; margin-top: 8px; }
.filter-bar { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-bottom: 24px; align-items: end; }
.filter-group { display: flex; flex-direction: column; }
.filter-group label { font-weight: 600; font-size: 0.9rem; margin-bottom: 8px; color: var(--text-color); }
.filter-group input, .filter-group select { padding: 10px 12px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 1rem; width: 100%; background-color: #fff; }
.filter-buttons { display: flex; gap: 10px; align-items: end; }

/* --- Pagination & Loader --- */
.pagination { display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 30px; }
.pagination a, .pagination .current { display: inline-block; padding: 8px 16px; border: 1px solid var(--border-color); border-radius: 6px; text-decoration: none; color: var(--text-muted); font-weight: 600; transition: all 0.2s ease; }
.pagination a:hover { border-color: var(--primary-color); color: var(--primary-color); }
.pagination .current { background-color: var(--primary-color); border-color: var(--primary-color); color: white; }
#loader { display: none; margin-left: 15px; border: 4px solid #f3f4f3; border-top: 4px solid var(--primary-color); border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* --- Action Buttons in Tables --- */
.action-buttons {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    align-items: center;
}

.action-buttons .btn-secondary i,
.action-buttons .btn-danger i,
.action-buttons .btn-success i {
    width: 16px;
    height: 16px;
}

/* --- Secondary/View Button Style --- */
.btn-secondary {
    background-color: #ffffff;
    color: var(--text-muted);
    border: 1px solid var(--border-color);
    font-weight: 600;
    /* Add/adjust for consistency */
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.9rem;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    text-decoration: none;
    transition: all 0.2s ease-in-out;
}
.btn-secondary:hover {
    background-color: #f9fafb;
    color: var(--text-color);
    border-color: #d1d5db;
}
/* --- Destructive Action Button Style --- */
.btn-danger {
    background-color: transparent;
    color: var(--danger-color);
    border: 1px solid var(--danger-color);

    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease-in-out;
}
.btn-danger:hover {
    background-color: var(--danger-color);
    color: white;
    border-color: var(--danger-color);
    box-shadow: 0 4px 12px rgba(220, 53, 69, 0.2);
}
.btn-danger:hover i {
    stroke: white;
}
.btn-success {
    background-color: transparent;
    color: var(--success-color);
    border: 1px solid var(--success-color);

    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease-in-out;
}
.btn-success:hover {
    background-color: var(--success-color);
    color: white;
    border-color: var(--success-color);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
}
.btn-success:hover i {
    stroke: white;
}

/* --- Message/Alert Styling --- */
.messages {
    margin-bottom: 24px;
}
.alert {
    padding: 16px;
    border-radius: 8px;
    font-weight: 600;
    border: 1px solid transparent;
}
.alert-success {
    color: #0f5132;
    background-color: #d1e7dd;
    border-color: #badbcc;
}
.alert-error {
    color: #842029;
    background-color: #f8d7da;
    border-color: #f5c2c7;
}

.notebook-intro {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 1rem;
    color: var(--text-muted);
    background-color: #f9fafb;
    border: 1px solid var(--border-color);
    padding: 16px 24px;
    border-radius: 8px;
    margin-bottom: 32px;
}

/* Main wrapper for all notebook content */
.notebook-content-wrapper {
    font-size: 16px;
    line-height: 1.6;
}

/* --- Styling for Markdown Cells --- */
.notebook-content-wrapper .text_cell_render {
    padding: 16px;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 32px;
}
.notebook-content-wrapper .text_cell_render h1,
.notebook-content-wrapper .text_cell_render h2,
.notebook-content-wrapper .text_cell_render h3 {
    margin-top: 0;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
    font-weight: 600;
}
.notebook-content-wrapper .text_cell_render p {
    margin-bottom: 16px;
    color: var(--text-muted);
}
.notebook-content-wrapper .text_cell_render a {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 500;
}
.notebook-content-wrapper .text_cell_render a:hover {
    text-decoration: underline;
}

/* --- Styling for Code Cells --- */
.notebook-content-wrapper .cell {
    margin-bottom: 32px;
}

/* The dark container for code input */
.notebook-content-wrapper .input_area {
    background-color: #1f2937; /* Dark background for code */
    border-radius: 8px;
    padding: 20px;
    overflow-x: auto; /* Allow horizontal scrolling for long lines */
}

/* The code itself */
.notebook-content-wrapper .input_area pre {
    margin: 0;
    font-family: 'Menlo', 'Consolas', monospace;
    font-size: 0.9rem;
    color: #d1d5db; /* Light gray text */
}

/* --- Simple Syntax Highlighting --- */
.notebook-content-wrapper .input_area .kn { color: #818cf8; } /* Keywords like 'from', 'import' */
.notebook-content-wrapper .input_area .nn { color: #f472b6; } /* Module names */
.notebook-content-wrapper .input_area .s1,
.notebook-content-wrapper .input_area .s2 { color: #a5b4fc; } /* Strings */
.notebook-content-wrapper .input_area .c1 { color: #9ca3af; font-style: italic; } /* Comments */
.notebook-content-wrapper .input_area .o { color: #60a5fa; } /* Operators like '=' */
.notebook-content-wrapper .input_area .mi { color: #f87171; } /* Numbers */

/* --- Styling for Output Cells --- */
.notebook-content-wrapper .output_area {
    padding: 16px;
}

/* Styling for Pandas DataFrames */
.notebook-content-wrapper .output_area .dataframe {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
}
.notebook-content-wrapper .output_area .dataframe th,
.notebook-content-wrapper .output_area .dataframe td {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    text-align: left;
}
.notebook-content-wrapper .output_area .dataframe thead th {
    background-color: #f9fafb;
    font-weight: 600;
}